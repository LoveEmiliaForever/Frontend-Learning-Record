# 基础库的更新

## 基础库版本变动

小程序的很多能力需要微信客户端来支撑，例如蓝牙、直播能力、微信运动等，可以说，小程序基础库的迭代离不开微信客户端的发布  
为了避免新版本的基础库给线上小程序带来未知的影响，微信客户端都是**携带上一个稳定版的基础库发布**的  
等到微信客户端正式发布后，我们会开始**灰度推送**1.7.0版本的基础库到6.5.11的微信客户端里  
如果存在重大Bug，那此次推送会被回退，也就是基础库版本回到1.6.0版本  

## 推送基础库过程

在正式灰度推送新版本基础库前，我们内部有严格的自动化测试流程，保证已有的测试用例全部能通过  
接着进行灰度推送，一般灰度时长是12个小时，遇到一些重大代码改动时可能灰度时间会更久  
灰度推送完成后，我们会发布新能力的文档，此时我们也会关注微信开发者社区的Bug反馈，根据情况再决定是否要推送Patch版本进行一些Bug的修复  
